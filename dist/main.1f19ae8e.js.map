{"version":3,"sources":["main.js"],"names":["allBtn","document","querySelectorAll","canvas","getElementById","width","documentElement","clientWidth","height","clientHeight","ctx","getContext","huaban","type","isDraw","beginX","beginY","lineWidth","imageData","color","huabiFn","e","x","pageX","offsetLeft","y","pageY","offsetTop","lineTo","strokeStyle","lineCap","lineJoin","stroke","huabiBtn","querySelector","onclick","forEach","item","i","classList","remove","add","lineDivs","a","b","colorInput","onchange","value","onmousedown","beginPath","moveTo","onmouseup","getImageData","offsetWidth","offsetHeight","closePath","onmousemove","strFn"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["let allBtn = document.querySelectorAll(\".btn\")\r\n//获取canvas的宽度和高度\r\nlet canvas = document.getElementById(\"canvas\");\r\ncanvas.width = document.documentElement.clientWidth;\r\ncanvas.height = document.documentElement.clientHeight-100;\r\nlet ctx = canvas.getContext(\"2d\");\r\n\r\n\r\nlet huaban={\r\n  type:\"huabi\",\r\n  isDraw:false,\r\n  beginX:0,\r\n  beginY:0,\r\n  lineWidth:8,\r\n  imageData:null,\r\n  color:'#000',\r\n\r\n  huabiFn:function(e){\r\n    let x =e.pageX - canvas.offsetLeft\r\n    let y =e.pageY - canvas.offsetTop\r\n    ctx.lineTo(x,y)\r\n    ctx.strokeStyle = huaban.color\r\n    ctx.lineWidth = huaban.lineWidth\r\n    ctx.lineCap = \"round\"\r\n    ctx.lineJoin = \"round\"\r\n    ctx.stroke()\r\n  },\r\n}\r\n\r\n\r\nlet huabiBtn = document.querySelector('#huabi')\r\n    huabiBtn.onclick = function(){\r\n      allBtn.forEach(function(item,i){\r\n        item.classList.remove(\"active\")\r\n        })\r\n    huabiBtn.classList.add(\"active\")\r\n    huaban.type = \"huabi\"\r\n  }\r\n\r\n\r\n  // 设计粗细的按钮\r\n  let lineDivs = document.querySelectorAll(\".line\")\r\n  lineDivs.forEach(function(item,i){\r\n    item.onclick = function(){\r\n      lineDivs.forEach(function(a,b){\r\n        a.classList.remove(\"active\")\r\n      })\r\n      item.classList.add(\"active\")\r\n      if(i===0){\r\n        huaban.lineWidth = 8\r\n      }else if(i===1){\r\n        huaban.lineWidth = 16\r\n      }else{\r\n        huaban.lineWidth = 32\r\n      }\r\n    }\r\n  })\r\n\r\n//监听颜色设置改变\r\nlet colorInput = document.querySelector(\"#color\")\r\ncolorInput.onchange = function(e){\r\n  // console.log(e)\r\n  // console.log(colorInput.value)\r\n  huaban.color = colorInput.value\r\n}\r\n\r\n\r\n//监听鼠标按下事件\r\ncanvas.onmousedown = function(e){\r\n  huaban.isDraw =true\r\n  if(huaban.type===\"huabi\"){\r\n    let x =e.pageX - canvas.offsetLeft\r\n    let y =e.pageY - canvas.offsetTop\r\n    huaban.beginX = x\r\n    huaban.beginY = y\r\n    ctx.beginPath()\r\n    ctx.moveTo(x,y)\r\n  }\r\n}\r\n\r\n//监听鼠标抬起事件\r\ncanvas.onmouseup = function(){\r\n  huaban.imageData = ctx.getImageData(0,0,canvas.offsetWidth,canvas.offsetHeight)\r\n  huaban.isDraw =false\r\n\r\n  if(huaban.type==='huabi'){\r\n    ctx.closePath()\r\n  }\r\n}\r\n\r\ncanvas.onmousemove = function(e){\r\n  if(huaban.isDraw){\r\n    // console.log(huaban)\r\n    let strFn = huaban.type+'Fn'\r\n    huaban[strFn](e)\r\n  }\r\n}"]}